gyro={orientation:null,alpha0:null,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)};ondeviceorientation=function(a){null===gyro.orientation&&(gyro.orientation=window.orientation||0);null===gyro.alpha0&&(gyro.alpha0=a.alpha);gyro.alpha=a.alpha-gyro.alpha0;180<gyro.alpha&&(gyro.alpha-=360);var b=a.beta;a=a.gamma;gyro.iOS&&(b*=2,2>=a);0==gyro.orientation?(gyro.beta=-b+90,gyro.gamma=-a):90==gyro.orientation?(gyro.beta=0>a?90+a:a-90,gyro.gamma=-b):-90==gyro.orientation&&(gyro.beta=0>a?-90-a:90-a,gyro.gamma=-b)};ondevicemotion=function(a){gyro.x=a.acceleration.x;gyro.y=a.acceleration.y;gyro.z=a.acceleration.z};onorientationchange=function(){gyro.orientation=window.orientation}